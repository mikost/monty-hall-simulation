<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>DoorMatcher.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Monty Hall simulation</a> &gt; <a href="index.source.html" class="el_package">com.monty.minisimulation</a> &gt; <span class="el_source">DoorMatcher.java</span></div><h1>DoorMatcher.java</h1><pre class="source lang-java linenums">package com.monty.minisimulation;


/**
 * A &lt;code&gt;DoorMatcher&lt;/code&gt; instance either matches or doesn't match a &lt;code&gt;Door&lt;/code&gt;
 * passed to its {@link #matches(Door) matches} method. Instances of &lt;code&gt;DoorMatcher&lt;/code&gt;
 * are used to retrieve a &lt;code&gt;Door&lt;/code&gt; from a &lt;code&gt;Doors&lt;/code&gt; instance,
 * by means of the {@link Doors#getDoor(DoorMatcher)} method.
 * @author mikko
 *
 */
<span class="fc" id="L12">abstract class DoorMatcher {</span>
	/**
	 * @return a DoorMatcher that matches any &lt;code&gt;Door&lt;/code&gt;.
	 */
	static DoorMatcher anyDoor() {
<span class="fc" id="L17">		return new DoorMatcher() {</span>
			@Override
			boolean matches(Door door) {
<span class="fc" id="L20">				return true;</span>
			}
		};
	}

	/**
	 * @return a DoorMatcher that matches a &lt;code&gt;Door&lt;/code&gt; that has a goat behind it.
	 */
	static DoorMatcher doorWithGoat() {
<span class="fc" id="L29">		return new DoorMatcher() {</span>
			@Override
			public boolean matches(Door door) {
<span class="fc bfc" id="L32" title="All 2 branches covered.">				return !door.hasCar();</span>
			}
		};
	}

	/**
	 * @return a DoorMatcher that matches a &lt;code&gt;Door&lt;/code&gt; that has a car behind it.
	 */
	static DoorMatcher doorWithCar() {
<span class="nc" id="L41">		return new DoorMatcher() {</span>
			@Override
			public boolean matches(Door door) {
<span class="nc" id="L44">				return door.hasCar();</span>
			}
		};
	}

	/**
	 * @return a &lt;code&gt;DoorMatcher&lt;/code&gt; that has the same matching criterion as this 
	 * &lt;code&gt;DoorMatcher&lt;/code&gt; &lt;i&gt;except&lt;/i&gt; that it does &lt;i&gt;not&lt;/i&gt; match the instance 
	 * referred to by parameter &lt;code&gt;unwantedDoor&lt;/code&gt;.
	 * 
	 */
	DoorMatcher not(final Door unwantedDoor) {
<span class="fc" id="L56">		final DoorMatcher prev = this;</span>
<span class="fc" id="L57">		return new DoorMatcher() {</span>

			@Override
			boolean matches(Door door) {
<span class="fc bfc" id="L61" title="All 4 branches covered.">				return door != unwantedDoor &amp;&amp; prev.matches(door);</span>
			}
			
		};
	}

	/**
	 * @param door
	 * @return &lt;code&gt;true&lt;/code&gt;, if and only if, the supplied &lt;code&gt;door&lt;/code&gt; is 
	 * matched by this &lt;code&gt;DoorMatcher&lt;/code&gt;.
	 */
	abstract boolean matches(Door door);
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.2.201409121644</span></div></body></html>